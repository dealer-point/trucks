div#page_content
    div#page_content_inner
        div.uk-width-9-10.uk-container-center
            div.uk-grid.uk-grid-collapse(data-uk-grid-margin)
                div.uk-width-8-10.uk-row-first
                    div.md-card.md-card-single(data-single-card)
                        div.md-card-toolbar
                            //- div.md-card-toolbar-actions
                                i.md-icon.material-icons &#xE161;
                            h3.md-card-toolbar-heading-text(ng-bind="$offerGeneratorCtrl.listTitle")
                        div.md-card-content
                            p(data-ng-if="!$offerGeneratorCtrl.currentOffer.length") Use buttons to add a block to the offer
                            div(data-ng-if="$offerGeneratorCtrl.currentOffer.length")
                                div.editable-block(data-ng-repeat="editableBlock in $offerGeneratorCtrl.currentOffer" data-ng-class="{ editing: editableBlock.editMode }")
                                    div.block-toolbar.uk-clearfix
                                        a(href="" data-ng-click="$offerGeneratorCtrl.toggleBlockEditMode(editableBlock)" data-ng-if="editableBlock.editMode"):  i.material-icons &#xE161;
                                        a(href="" data-ng-click="$offerGeneratorCtrl.toggleBlockEditMode(editableBlock)" data-ng-if="!editableBlock.editMode"): i.material-icons &#xE3C9;
                                        a(href="" data-ng-click="$offerGeneratorCtrl.moveBlock(editableBlock, 'up')"):   i.material-icons &#xE316;
                                        a(href="" data-ng-click="$offerGeneratorCtrl.moveBlock(editableBlock, 'down')"): i.material-icons &#xE313;
                                        a(href="" data-ng-click="$offerGeneratorCtrl.removeBlock(editableBlock)"): i.material-icons &#xE872;
                                    div.block-content
                                        div(data-ng-switch="editableBlock.kind")
                                            //- fullText
                                            div(data-ng-switch-when="fullText")
                                                div(data-ng-if="editableBlock.editMode"  text-angular data-ng-model="editableBlock.text")
                                                div(data-ng-if="!editableBlock.editMode" data-ng-bind-html="editableBlock.text")
                                            //- fullImage
                                            div(data-ng-switch-when="fullImage")
                                                div.uk-file-upload
                                                    p.uk-text Drop file to upload
                                                    p.uk-text-muted.uk-text-small.uk-margin-small-bottom or
                                                    span.uk-form-file.md-btn
                                                        | Choose file
                                                        input(type="file" data-nv-file-select data-uploader="editableBlock.uploader")
                                                div.image-holder
                                            //- textWithImageLeft
                                            div.uk-grid(data-ng-switch-when="textWithImageLeft")
                                                div.uk-width-1-3
                                                    div.uk-file-upload
                                                        p.uk-text Drop file to upload
                                                        p.uk-text-muted.uk-text-small.uk-margin-small-bottom or
                                                        span.uk-form-file.md-btn
                                                            | Choose file
                                                            input(type="file" data-nv-file-select data-uploader="editableBlock.uploader")
                                                    div.image-holder
                                                div.uk-width-2-3
                                                    div(data-ng-if="editableBlock.editMode"  text-angular data-ng-model="editableBlock.text")
                                                    div(data-ng-if="!editableBlock.editMode" data-ng-bind-html="editableBlock.text")
                                            //- textWithImageRight
                                            div.uk-grid(data-ng-switch-when="textWithImageRight")
                                                div.uk-width-2-3
                                                    div(data-ng-if="editableBlock.editMode"  text-angular data-ng-model="editableBlock.text")
                                                    div(data-ng-if="!editableBlock.editMode" data-ng-bind-html="editableBlock.text")
                                                div.uk-width-1-3
                                                    div.uk-file-upload
                                                        p.uk-text Drop file to upload
                                                        p.uk-text-muted.uk-text-small.uk-margin-small-bottom or
                                                        span.uk-form-file.md-btn
                                                            | Choose file
                                                            input(type="file" data-nv-file-select data-uploader="editableBlock.uploader")
                                                    div.image-holder
                                            //- divider
                                            div(data-ng-switch-when="divider")
                                                div(data-ng-bind-html="editableBlock.text")
                div.uk-width-2-10.uk-visible-large
                    div.md-list-outside-wrapper
                        ul.md-list.md-list-outside.file_list
                            li.heading_list Blocks
                            li(data-ng-repeat="block in $offerGeneratorCtrl.availableBlocks")
                                a.md-list-content(href="" data-ng-click="$offerGeneratorCtrl.addBlock(block)")
                                    span.md-list-heading.uk-text-truncate(data-ng-bind="block")
                                    span.uk-text-small.uk-text-muted Description
div.md-fab-wrapper
    a.md-fab.md-fab-accent(href="" data-ng-click="$offerGeneratorCtrl.save()")
        i.material-icons &#xE161;
